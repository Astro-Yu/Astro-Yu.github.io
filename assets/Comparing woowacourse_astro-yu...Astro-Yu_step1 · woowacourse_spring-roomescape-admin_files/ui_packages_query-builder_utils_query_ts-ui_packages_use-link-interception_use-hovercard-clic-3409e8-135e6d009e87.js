"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_query-builder_utils_query_ts-ui_packages_use-link-interception_use-hovercard-clic-3409e8"],{96558:(e,t,i)=>{i.d(t,{Bc:()=>r,Qs:()=>u,fv:()=>n,uN:()=>a,wJ:()=>o,wX:()=>l,wg:()=>s});let s="copilot-chat-textarea",a="copilot-chat-topic-search",r="Review",n="copilot-chat-header-button",l="copilot-diff-header-button",o="copilot-chat-panel",u="copilot-chat-panel"},12380:(e,t,i)=>{i.d(t,{Om:()=>c,qc:()=>d,ws:()=>p,mA:()=>u});var s=i(760),a=i(62596),r=i(71953);i(87016);var n=i(80528),l=i(91385);function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let CustomFilterProvider=class CustomFilterProvider extends EventTarget{handleEvent(e){let t=e.parsedQuery.at(-1);(""!==t.value||this.priority<=s.$D)&&t?.type!=="filter"&&!e.parsedQuery.some(e=>"filter"===e.type&&e.filter===this.value)&&((0,l.qA)(t?.value,this.name)||(0,l.qA)(t?.value,this.value))&&this.dispatchEvent(new Event("show")),t?.type==="filter"&&t.filter===this.value&&this.filterValues?.map(e=>{let{name:i,priority:s,icon:a}=e,r="value"in e?e.value:e.valueFunc(),n=r.charAt(0).toUpperCase()+r.slice(1);this.emitSuggestion(this.value,r,i??n,t.value,s,a)})}emitSuggestion(e,t,i,s,a,r){(!s||(0,l.qA)(s,t))&&(s&&(a-=(0,l.fN)(s,t)),this.dispatchEvent(new n.qi({filter:e,value:t,name:i,priority:a,icon:r})))}constructor(e,{name:t,value:i,priority:s,icon:a,valuesKey:r},n){super(),o(this,"type","filter"),o(this,"name",void 0),o(this,"value",void 0),o(this,"priority",void 0),o(this,"icon",void 0),o(this,"valuesKey",void 0),o(this,"filterValues",void 0),o(this,"singularItemName",void 0),this.name=t,this.value=i,this.singularItemName=t,this.priority=s,this.icon=a,this.valuesKey=r,this.filterValues=n,e.addEventListener("query",this),e.attachProvider(this)}};function u(e){let t=new Map;for(let i of(t.set("searchTerms",[]),e.trim().split(/((?:[^\s"]+|"[^"]*")+)/g).filter(e=>""!==e.trim()))){let[e,s]=i.split(":");if(e&&s){if(!t.has(e)){t.set(e,[s]);continue}t.set(e,[...t.get(e),s]);continue}t.set("searchTerms",[...t.get("searchTerms"),i])}return t}function c(e,t,i){if(e.value in s.RM){let r=e.value;new CustomFilterProvider(t,{...e,name:s.RM[r],icon:a.m4.Not,value:`-${e.value}`,valuesKey:e.value,priority:s.a6},i)}new CustomFilterProvider(t,e,i)}function d(e,t,i,a,n){if(e.value in s.RM){let l=e.value;new r.D(t,{...e,name:s.RM[l],value:`-${e.value}`,priority:s.a6},i,a,n)}new r.D(t,e,i,a,n)}function p(e){let t=u(e),i=new Map([...t.get("is")||[],...t.get("type")||[]].map(e=>[e,!0])),s=i.has("pr")||i.has("pull-request"),a=i.has("issue")||i.has("issues");return s&&!a}},72789:(e,t,i)=>{i.d(t,{I:()=>r});var s=i(96540);function a(e){return e.target instanceof HTMLElement?e.target.closest(".js-hovercard-content"):null}let r=e=>{(0,s.useEffect)(()=>{let t=e=>{a(e)&&e.stopPropagation()},i=t=>{let i=a(t);if(!i)return;let s=i.getAttribute("data-hovercard-target-url");s&&e(s,t)};return window.addEventListener("focus",t,!0),window.addEventListener("click",i),()=>{window.removeEventListener("focus",t,!0),window.removeEventListener("click",i)}})}},16037:(e,t,i)=>{i.d(t,{B:()=>IssueTypeFilterProvider});let s=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"name"},{defaultValue:null,kind:"LocalArgument",name:"owner"}],t=[{kind:"Variable",name:"name",variableName:"name"},{kind:"Variable",name:"owner",variableName:"owner"}],i=[{kind:"Literal",name:"first",value:10}],s={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"IssueTypeFilterProviderIssueTypeQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:i,concreteType:"IssueTypeConnection",kind:"LinkedField",name:"issueTypes",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueTypeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"node",plural:!1,selections:[s],storageKey:null}],storageKey:null}],storageKey:"issueTypes(first:10)"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"IssueTypeFilterProviderIssueTypeQuery",selections:[{alias:null,args:t,concreteType:"Repository",kind:"LinkedField",name:"repository",plural:!1,selections:[{alias:null,args:i,concreteType:"IssueTypeConnection",kind:"LinkedField",name:"issueTypes",plural:!1,selections:[{alias:null,args:null,concreteType:"IssueTypeEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"IssueType",kind:"LinkedField",name:"node",plural:!1,selections:[s,a],storageKey:null}],storageKey:null}],storageKey:"issueTypes(first:10)"},a],storageKey:null}]},params:{id:"50e0799321ee775e4a9ab272d550bc80",metadata:{},name:"IssueTypeFilterProviderIssueTypeQuery",operationKind:"query",text:null}}}();s.hash="8a15f824f83b4a06404fd85740a7527f";let a=function(){var e={alias:null,args:null,kind:"ScalarField",name:"suggestedIssueTypeNames",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IssueTypeFilterProviderViewerIssueTypeQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viewer",plural:!1,selections:[e],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"IssueTypeFilterProviderViewerIssueTypeQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viewer",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:"58ebbad60258ea0c9eb795e67cc2b575",metadata:{},name:"IssueTypeFilterProviderViewerIssueTypeQuery",operationKind:"query",text:null}}}();a.hash="765a25834ce6bc541a1d98b6355cf514";let r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"login"},{defaultValue:null,kind:"LocalArgument",name:"number"}],t=[{kind:"Variable",name:"login",variableName:"login"}],i=[{kind:"Variable",name:"number",variableName:"number"}],s={alias:null,args:null,kind:"ScalarField",name:"suggestedIssueTypeNames",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"IssueTypeFilterProviderProjectIssueTypeQuery",selections:[{alias:null,args:t,concreteType:"Organization",kind:"LinkedField",name:"organization",plural:!1,selections:[{alias:null,args:i,concreteType:"ProjectV2",kind:"LinkedField",name:"projectV2",plural:!1,selections:[s],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"IssueTypeFilterProviderProjectIssueTypeQuery",selections:[{alias:null,args:t,concreteType:"Organization",kind:"LinkedField",name:"organization",plural:!1,selections:[{alias:null,args:i,concreteType:"ProjectV2",kind:"LinkedField",name:"projectV2",plural:!1,selections:[s,a],storageKey:null},a],storageKey:null}]},params:{id:"4ecab7512fd17375c718ee060e7c9130",metadata:{},name:"IssueTypeFilterProviderProjectIssueTypeQuery",operationKind:"query",text:null}}}();r.hash="54031af5ea97af051011bdae3b3dc9af";var n=i(78601),l=i(28107),o=i(62976),u=i(5804),c=i(38621),d=i(91385),p=i(18312),y=i(69487);function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let h=[{value:"issue",displayName:"Issue",priority:1,icon:c.IssueOpenedIcon},{value:"pr",displayName:"Pull Request",priority:2,icon:c.GitPullRequestIcon}],g={displayName:"Type",key:"type",priority:n.a6,icon:c.IssueOpenedIcon,description:"Specify the type of issue to search for"};let IssueTypeFilterProvider=class IssueTypeFilterProvider extends l.kr{async getSuggestions(e,t,i,s){let a=(0,o.DS)(t,s),r=await this.processSuggestions(e,t,this.processSuggestion.bind(this),s)||[],n=[];if((0,o.uT)(t)&&this.options.filterTypes.valueless&&!t.raw.startsWith("-")){let e=(0,o.jL)(this.displayName,this.icon);n.push(e)}if((0,o.uT)(t)&&this.options.filterTypes.hasValue&&!t.raw.startsWith("-")){let e=(0,o.Ms)(this.displayName,this.icon);n.push(e)}for(let e of r){let{value:t,displayName:i}=e,s=(0,o.I8)(t),r=!!s&&(0,d.qA)(a,s),l=!!i&&(0,d.qA)(a,i);s&&(r||l)&&(e.priority-=(0,u.dt)(a,s),n.push(e))}return n}async fetchSuggestions(e,t){if(!t)return[];try{if(this.relayEnvironment&&this.requestVariables&&this.repositoryScope&&this.issueTypesEnabled){let e=await (0,p.fetchQuery)(this.relayEnvironment,s,this.requestVariables,{fetchPolicy:"store-or-network"}).toPromise(),t=e?.repository?.issueTypes?.edges||[],i=[];for(let e of t)e&&e.node&&e.node.name&&i.push({name:e.node.name});return i}if(this.relayEnvironment&&this.requestVariables&&this.projectScope&&this.issueTypesEnabled){let e=await (0,p.fetchQuery)(this.relayEnvironment,r,this.requestVariables,{fetchPolicy:"store-or-network"}).toPromise(),t=e?.organization?.projectV2?.suggestedIssueTypeNames||[];return t?.map(e=>({name:e}))}if(this.relayEnvironment&&!this.projectScope&&!this.repositoryScope){let e=await (0,p.fetchQuery)(this.relayEnvironment,a,{},{fetchPolicy:"store-or-network"}).toPromise(),t=e?.viewer?.suggestedIssueTypeNames||[];return t?.map(e=>({name:e}))}}catch{}return[]}async validateFilterValue(e){try{if(this.relayEnvironment&&this.requestVariables&&this.repositoryScope&&this.issueTypesEnabled){let t=await (0,p.fetchQuery)(this.relayEnvironment,s,this.requestVariables,{fetchPolicy:"store-or-network"}).toPromise(),i=t?.repository?.issueTypes?.edges||[],a=[];for(let e of i)e&&e.node&&e.node.name&&a.push({name:e.node.name});return a.find(t=>(0,o.SH)(t.name,e))}if(this.relayEnvironment&&this.requestVariables&&this.projectScope&&this.issueTypesEnabled){let t=await (0,p.fetchQuery)(this.relayEnvironment,r,this.requestVariables,{fetchPolicy:"store-or-network"}).toPromise(),i=t?.organization?.projectV2?.suggestedIssueTypeNames||[];return{name:i?.find(t=>o.SH(t,e))}}if(this.relayEnvironment){let t=await (0,p.fetchQuery)(this.relayEnvironment,a,{},{fetchPolicy:"store-or-network"}).toPromise(),i=t?.viewer?.suggestedIssueTypeNames||[];return{name:i?.find(t=>o.SH(t,e))}}}catch{}return null}validateValue(e,t,i){let s=(0,o.M5)(t.value),a=this.legacy?[...h.map(({value:e})=>e),i?.name]:[i?.name];return!!(0!==a.length&&s&&a.find(e=>(0,o.SH)(e,s)))&&{value:(0,o.$4)(s)??"",displayName:s}}async processSuggestions(e,t,i,s){if(!this.shouldGetSuggestions(t))return null;let a=(0,o.DS)(t,s),r=await this.fetchSuggestions(a,t)??[];return[...this.legacy?h.map(e=>({...e,ariaLabel:`${e.displayName}, ${this.displayName}`})):[],...r.map(t=>i(t,a,e))]}getValueRowProps(e){return{text:e.displayName??(0,o.I8)(e.value)??"",leadingVisual:(0,o.d7)({value:e,providerIcon:this.icon})}}processSuggestion(e,t){let{name:i}=e,s=3;return t&&i&&(s-=(0,u.dt)(t,i)),{type:n.ak.Value,displayName:i,ariaLabel:`${i}, ${this.displayName}`,value:(0,o.$4)(i)??"",inlineDescription:!0,priority:s,icon:this.icon}}getRequestVariables(){if(this.repositoryScope){let e=this.repositoryScope.split("/");return{owner:e[0]||"",name:e[1]||""}}if(this.projectScope?.login&&this.projectScope?.projectNumber)return{login:this.projectScope.login,number:this.projectScope.projectNumber}}getRequestDisposable(){if(this.relayEnvironment){if(this.requestVariables&&this.repositoryScope){let e=(0,y.getRequest)(s),t=(0,y.createOperationDescriptor)(e,this.requestVariables);return this.relayEnvironment.retain(t)}if(this.requestVariables&&this.projectScope){let e=(0,y.getRequest)(r),t=(0,y.createOperationDescriptor)(e,this.requestVariables);return this.relayEnvironment.retain(t)}{let e=(0,y.getRequest)(a),t=(0,y.createOperationDescriptor)(e,{});return this.relayEnvironment.retain(t)}}}constructor(e,t=!1,i,s,a=!1,r){super(g,{...e,filterTypes:{...e?.filterTypes,multiValue:!0}}),m(this,"filterValues",void 0),m(this,"relayEnvironment",void 0),m(this,"repositoryScope",void 0),m(this,"projectScope",void 0),m(this,"issueTypesEnabled",void 0),m(this,"owner",void 0),m(this,"repo",void 0),m(this,"legacy",void 0),m(this,"requestVariables",void 0),m(this,"requestDisposable",void 0),this.type=n.CH.Text,this.relayEnvironment=i,this.repositoryScope=s,this.projectScope=r,this.issueTypesEnabled=a,this.requestVariables=this.getRequestVariables(),this.requestDisposable=this.getRequestDisposable(),this.legacy=t}}},54946:(e,t,i)=>{i.d(t,{A:()=>o,u:()=>l});var s=i(74848),a=i(96540),r=i(55422);let n=(0,a.createContext)(null),l=({children:e})=>{let[t,i]=(0,a.useState)(""),l=(0,a.useMemo)(()=>({issueCommentHighlightId:t,setIssueCommentHighlightId:i}),[t]);return(0,s.jsx)(r.b,{children:(0,s.jsx)(n.Provider,{value:l,children:e})})},o=()=>{let e=(0,a.useContext)(n);if(!e)throw Error("useIssueViewerCommentsContext must be used within a IssueViewerCommentsContextProvider.");return e};try{n.displayName||(n.displayName="IssueViewerCommentsContext")}catch{}try{l.displayName||(l.displayName="IssueViewerCommentsContextProvider")}catch{}},3172:(e,t,i)=>{i.d(t,{e:()=>o});var s=i(74848),a=i(67737),r=i(91221),n=i(54946),l=i(62872);function o({children:e}){return(0,s.jsx)(n.u,{children:(0,s.jsx)(a.D,{children:(0,s.jsx)(r.T,{children:(0,s.jsx)(l.Q3,{children:e})})})})}try{o.displayName||(o.displayName="IssueViewerContextProvider")}catch{}},88350:(e,t,i)=>{i.d(t,{w:()=>m});var s=i(74848),a=i(96540),r=i(90495),n=i(92627),l=i(75177),o=i(87330),u=i(38621),c=i(96558),d=i(24021);let p=(0,a.memo)(({children:e,initialFocusRef:t,returnFocusRef:i,open:p,onClose:m,onKeyDown:h,topOffset:g=0,width:v,"aria-label":f,"aria-labelledby":b,defaultCloseElement:w="button"})=>{let T=(0,a.useMemo)(()=>Array.isArray(v)?v:"string"==typeof v?["100%","",v]:["100%"],[v]),k=(0,a.useRef)(null),[I,S]=(0,a.useState)(null===k.current||!p),{initialFocusRef:V}=(0,r.r)({initialFocusRef:t,containerRef:k,disabled:I}),E=window.matchMedia("(prefers-reduced-motion: reduce)").matches,[P,x]=(0,a.useState)(p),[F,N]=(0,a.useState)(p),[q,j]=(0,d.H)(e,{heading:y});(0,a.useEffect)(()=>{let e;return p?(x(!0),e=setTimeout(()=>N(!0))):(N(!1),e=setTimeout(()=>x(!1),200)),()=>clearTimeout(e)},[p]);let C=(0,a.useCallback)(e=>{let t=e.target;(t.id===c.wg||t.id===c.uN)&&(S(!0),window.setTimeout(()=>t.focus()))},[]),K=(0,a.useCallback)(e=>{let t=e.target;if("INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&e.shiftKey&&"C"===e.key){let e=document.querySelector(`#${c.wg}, #${c.uN}`);e&&(S(!0),window.setTimeout(()=>e.focus()))}h&&h(e)},[h]);(0,a.useEffect)(()=>(window.addEventListener("click",C),()=>{window.removeEventListener("click",C)}),[C]),(0,a.useEffect)(()=>{let e=document.body.style.overflow||"";if("hidden"!==e)return document.body.style.overflow="hidden",()=>{document.body.style.overflow=e}},[]);let L=(0,a.useCallback)(()=>{I&&S(!p)},[I,p]);return P?(0,s.jsxs)(n.Ay,{initialFocusRef:V,returnFocusRef:i,onKeyDown:K,onEscape:m,onClickOutside:()=>{},ref:k,role:"dialog","aria-modal":!0,"aria-label":f,"aria-labelledby":b,sx:{zIndex:2,height:"1px",bg:"none"},onFocus:L,children:[(0,s.jsx)(l.A,{sx:{backgroundColor:"var(--overlay-backdrop-bgColor, var(--color-overlay-backdrop))",top:g,right:0,bottom:0,left:0,borderRadius:0,position:"fixed",border:"none",transitionDuration:"200ms",transitionProperty:"opacity",transitionTimingFunction:"animation.easeOutCubic",opacity:F?1:0,cursor:"default",width:"100%"},onClick:m,as:"overlay"===w?"button":void 0,"aria-label":"overlay"===w?"Close":void 0}),(0,s.jsxs)(l.A,{sx:{borderRadius:"12px 0 0 12px",position:"fixed",top:g,right:0,bottom:0,width:T,minWidth:"300px",maxWidth:"unset",overflow:"auto",bg:"canvas.default",boxShadow:"shadow.large",transitionDuration:"200ms",transitionProperty:"opacity, transform",transitionTimingFunction:"animation.easeOutCubic",transform:F||E?"translateX(0%)":"translateX(35%)",opacity:F?1:0},children:[(0,s.jsxs)(l.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[(0,s.jsx)("div",{children:q.heading}),(0,s.jsx)("div",{children:"button"===w&&(0,s.jsx)(o.K,{variant:"invisible",icon:u.XIcon,"aria-label":"Close",onClick:m,sx:{float:"right",m:3}})})]}),j]})]}):null});p.displayName="SidePanel";let y=({children:e})=>(0,s.jsx)("div",{children:e}),m=Object.assign(p,{Heading:y});try{y.displayName||(y.displayName="Heading")}catch{}try{m.displayName||(m.displayName="SidePanel")}catch{}}}]);
//# sourceMappingURL=ui_packages_query-builder_utils_query_ts-ui_packages_use-link-interception_use-hovercard-clic-3409e8-e6e4dfa62396.js.map